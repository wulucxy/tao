webpackJsonp([6],{0:function(t,e,n){n(22),n(143);var r=window.$||n(45),a=(n(46),n(47));n(63);var o=n(145),c=n(146),s=n(147);a.switchNav(1);var i=r("[name=province]").val(),u=r(".subjectInput").map(function(t,e){var n=r(e);return{name:n.attr("name"),code:n.val()}}).get(),l={init:function(){this.render(),this.bindEvt()},render:function(){r("[name=subject]").each(function(t,e){var n=r(e);r(u).each(function(t,e){e.code==n.val()&&n.prop("checked",!0)})})},bindEvt:function(){o.init(),this.formValidator()},formValidator:function(){var t=this;r("#assessForm_1").validator({errorParent:".row",successCallback:function(e){var n=r(e.target).closest(".btn"),a=t.getSubjects();return 3!=a.length?(r(".subjectsRow").addClass("error unvalid"),!1):(r(".subjectsRow").removeClass("error unvalid"),void t.subFunc(n,r("#assessForm_1")))},focusinCallback:function(){r(this);a.hideError(r(".errTxt"))},errorCallback:function(t){r(".errTxt")}})},getSubjects:function(){var t=r("[name=subject]").map(function(t,e){if(e.checked)return{name:r(e).attr("n"),code:r(e).val()}}).get();return t},subFunc:function(t,e){var n=this,a=n.getSubjects(),o={score:r("[name=score]").val(),subjects:a};r.ajax({url:preServer+i+"/tzy/plan/wishes/step1",type:"post",contentType:"application/json",data:JSON.stringify(o),success:function(t){if("string"==typeof t)var t=r.parseJSON(t);return 1==t.code?(window.location="/box/plan/book_step2",!1):void warn(t.msg)},error:function(t){console.log(t)}})}};l.init(),r("[data-trigger]").on("click",function(t){t.preventDefault();var e=r(t.target).closest(".trigger"),n="detail"==e.data("trigger")?c:s;modalBox(e.get(0),{html:n(),klass:"w540 shadow",closeByOverlay:!1,completeCallback:function(){}})})},143:function(t,e){}});