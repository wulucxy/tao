webpackJsonp([37],{0:function(e,a,l){l(19),l(277);var n=window.$||l(41),s=(l(42),l(43)),t=l(128),i=l(279);s.switchNav(2),t(n("#collegeWrapper"),{tabsItem:"nav li",items:".content-wrap > section",klass:"current"}),i.init()},277:function(e,a){},279:function(e,a,l){var n=window.$||l(41),s=(l(46),l(280)),t=l(153),i={init:function(e){this.majorId=n("[name=majorId]").val(),this.province=n("[name=province]").val(),this.pager=1,this.capacity=10,this.bindEvt()},requestData:function(e){var a=this,l=[];l.push("capacity="+a.capacity),l.push("province="+a.province),l.push("majorId="+a.majorId),l.push("page="+a.pager),n.ajax({url:preServer+a.province+"/data/major/college?"+l.join("&"),type:"get",contentType:"application/json",success:function(e){if("string"==typeof e)var e=n.parseJSON(e);return 1!=e.code?void warn(e.msg):(n.each(e.result.colleges,function(e,a){a.code=a.collegeId,a.name=a.collegeName,a.city={code:a.city,name:t.getCityName(a.city)},a.collegeType={code:a.collegeType,name:t.getCollegeTypeName(a.collegeType)},a.ownerType={code:a.ownerType,name:t.getOwnerTypeName(a.ownerType)},a.level={code:a.level,name:t.getLevelName(a.level)},a.feature=n.map(a.feature,function(e,a){return{type:e,name:t.getFeatureName(e)}})}),e=e.result,void a.insertData(e,a.pager))}})},insertData:function(e,a){var l=this,t=s(e);1==a?n(".schoolList").empty().html(t):n(".schoolList").append(t),1==a&&0==e.total?n(".btn-loading").hide():(n(".btn-loading").show(),n(".btn-loading").removeClass("loading disabled"));var i=Math.ceil(e.total/l.capacity);a>=i?n(".btn-loading").addClass("loading-all"):n(".btn-loading").removeClass("loading-all"),l.pager++},bindEvt:function(){var e=this;n(".btn-loading").on("click",function(a){a.preventDefault();var l=n(this).closest(".btn");l.hasClass("disabled")||l.hasClass("loading-all")||(l.addClass("disabled loading"),e.requestData(l))}),n(".btn-loading").trigger("click")}};e.exports=i},280:function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";Array.prototype.join;with(obj)if(0==colleges.length)__p+='\n	<li class="no_transList"><i class="noListIcon"></i><em class="vm">暂无记录</em></li>\n';else{__p+="	\n";for(var i=0;i<colleges.length;i++){__p+='\n<li class="clearfix">\n	<div class="fl">\n	<h4 class="name badgeRow"><em class="badgetitle vm">'+(null==(__t=colleges[i].collegeName)?"":__t)+"</em>\n		";for(var j=0;j<colleges[i].feature.length;j++)__p+="\n			",__p+=1==colleges[i].feature[j].type?'\n				<span class="badge green">'+(null==(__t=colleges[i].feature[j].name)?"":__t)+"</span>\n			":2==colleges[i].feature[j].type?'\n				<span class="badge red">'+(null==(__t=colleges[i].feature[j].name)?"":__t)+"</span>\n			":'\n				<span class="badge">'+(null==(__t=colleges[i].feature[j].name)?"":__t)+"</span>\n			",__p+="\n		";__p+='\n	</h4>\n	<div class="detail">\n		<span class="label">院校属地：</span><span class="field">'+(null==(__t=colleges[i].city.name)?"":__t)+'</span>\n		<span class="label">院校分类：</span><span class="field">'+(null==(__t=colleges[i].collegeType.name)?"":__t)+'</span>\n		<span class="label">院校性质：</span><span class="field">'+(null==(__t=colleges[i].ownerType.name)?"":__t)+'</span>\n		<span class="label">院校层次：</span><span class="field">'+(null==(__t=colleges[i].level.name)?"":__t)+'</span>\n	</div>\n	</div>\n	<div class="fr">\n		<a href="/library/college/'+(null==(__t=colleges[i].collegeId)?"":__t)+'" target="_blank" class="btn btn-primary btn-mid">查看详情</a>\n	</div>\n</li>\n'}}return __p}}});