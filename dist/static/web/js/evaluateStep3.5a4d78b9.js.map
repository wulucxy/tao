{"version":3,"sources":["webpack:///./src/pages/evaluateStep3/index.js","webpack:///./src/pages/evaluateStep3/index.less"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;;AAGD;AACA;;AAEA;;AAEA;AACA;AACA;AACA,EAAC;;AAED;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,yC;;AAEA;AACA,QAAO;AACP,EAAC;;AAED;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,IAAG;AACH,EAAC;;;;;;;;;;;AC7GD,0C","file":"static/web/js/evaluateStep3.5a4d78b9.js","sourcesContent":["/* 建议这里都引入 */\nrequire('../../assets/less/common.less');\nrequire('./index.less');\nvar $ = window.$ || require('jquery');\n\n//工具类方法\nvar util = require('../../assets/components/util');\n\n//公共方法\nvar common = require('../../assets/components/common');\n\n/* 具体实现 */\n\n// 表单验证组件\nrequire('../../assets/components/validator');\n\n// 弹窗组件\nvar modalBox = require(\"../../assets/components/modalBox\");\n\n//弹窗模板\nvar tmpl_detail = require(\"../../assets/templates/detail.ejs\");\nvar tmpl_questions = require(\"../../assets/templates/questions.ejs\");\n\nvar __INITWISHES__ = $('.wishInput').map(function(idx, ele){\n  var $ele = $(ele);\n  return {\n    collegeId: $ele.attr('collegeid'),\n    collegeName: $ele.attr('collegename'),\n    majorId:$ele.attr('majorid'),\n    majorName:$ele.attr('majorname'),\n    field:$ele.attr('field')\n  }\n}).get()\n\nvar __INITSUBJECTS__ = $('.subjectInput').map(function(idx, ele){\n  var $ele = $(ele);\n  return {\n    name: $ele.attr('name'),\n    code: $ele.val()\n  }\n}).get()\n\n\n//切换顶部nav高亮\ncommon.switchNav(1);\n\nvar provinceId = $(\"[name=province]\").val();\n\n//checkbox定制\n$('.label_radio').click(function(){\n  util.setupLabel();\n});\n\nutil.setupLabel();\n\n$(\"[data-trigger]\").on(\"click\",function(e){\n    e.preventDefault();\n    var btn = $(e.target).closest(\".trigger\");\n    var tmpl = btn.data(\"trigger\") == \"detail\" ? tmpl_detail : tmpl_questions;\n\n    modalBox( btn.get(0), {\n          html:tmpl(),\n          klass : 'w540 shadow',\n          closeByOverlay : false,\n          completeCallback : function(){ \n            \n          }\n      });\n});\n\n$(\"#verifyBtn\").on(\"click\",function(e){\n  e.preventDefault();\n  var btn = $(e.target);\n  if(btn.hasClass(\"disabled\")) return;\n  btn.addClass(\"disabled\");\n\n  var _data = {\n    mobile : $(\"[name=mobile]\").val(),\n    province : $(\"[name=province]\").val(),\n    score : $(\"[name=score]\").val(),\n    wishes: __INITWISHES__,\n    subjects: __INITSUBJECTS__\n  };\n\n\n  $.ajax({\n    url : preServer+provinceId +\"/tzy/plan/assessment/step3\",\n    type : \"post\",\n    contentType: \"application/json\",\n    data : JSON.stringify(_data),\n    success : function(res){\n      if(typeof res == \"string\"){\n        var res = $.parseJSON(res);\n      }\n\n      if(res.code==1 && res.result.planId){\n          window.location = \"/box/plan/result?planId=\"+res.result.planId;\n          return false;\n      }else{\n          warn(res.msg);\n          btn.removeClass(\"disabled\");\n          return false;\n      }\n    },\n      error : function(err){\n        btn.removeClass(\"disabled\");\n        console.log(err);\n      }\n  });\n});\n\n\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/evaluateStep3/index.js\n// module id = 0\n// module chunks = 24","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/evaluateStep3/index.less\n// module id = 225\n// module chunks = 24"],"sourceRoot":""}