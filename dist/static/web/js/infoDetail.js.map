{"version":3,"sources":["webpack:///./src/pages/infoDetail/index.js","webpack:///./src/pages/infoDetail/index.less","webpack:///./src/pages/infoDetail/article.less"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,0BAAyB,gBAAgB;AACzC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,KAAI;AACJ;AACA;;AAEA;AACA,IAAG;AACH;AACA;AACA;AACA,GAAE;AACF,E;;;;;;;ACzEA,0C;;;;;;;ACAA,0C","file":"static/web/js/infoDetail.js","sourcesContent":["/* 建议这里都引入 */\nrequire('../../assets/less/common.less');\nrequire('./index.less');\nvar $ = window.$ || require(\"jquery\");\n\n//工具类方法\nvar util = require(\"../../assets/components/util\");\n\n//公共方法\nvar common = require(\"../../assets/components/common\");\n\n\n//自定义功能写下面\nrequire('./article.less');\nvar province = $(\"[name=province]\").val();\nvar newsId = $(\"[name=newsId]\").val();\n\n$(document).on(\"click\",'.up',function(e){\n\te.preventDefault();\n\tvar btn = $(this);\n\tupdown(btn,1);\n});\n\n$(document).on(\"click\",'.down',function(e){\n\te.preventDefault();\n\tvar btn = $(this);\n\tupdown(btn,2);\n});\n\nfunction updown(btn,type){\n\tif(btn.hasClass(\"btn-primary\") ||  $(\"[btn-type=1]\").length){\n\t\tif($(\"[btn-type=1]\").hasClass(\"up\")){\n\t\t\tvar warnTxt = \"您已经点过支持了\";\n\t\t}else if($(\"[btn-type=1]\").hasClass(\"down\")){\n\t\t\tvar warnTxt = \"您已经点过反对了\";\n\t\t}else{\n\t\t\tvar warnTxt = \"您暂时不可以点击\";\n\t\t}\n\t\twarn(warnTxt);\n\t\treturn;\n\t}\n\t\n\tvar _url = (type == 1 ? \"/news/up\" : \"/news/down\");\n\n\t$.ajax({\n\t\turl : preServer + province + _url,\n\t\ttype : \"post\",\n\t\tcontentType: \"application/json\",\n\t\tdata : JSON.stringify({newsId : newsId}),\n\t\tsuccess : function(res){\n\t\t\tif(typeof res == \"string\"){\n\t\t\t\tvar res = $.parseJSON(res);\n\t\t\t};\n\n\t\t\tif(res.code!=1){\n\t\t\t\twarn(res.msg);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tbtn.removeClass(\"btn-negative\").addClass(\"btn-primary\");\n\n\t\t\tif(type == 1){\n\t\t\t\t$(\"#upCount\").text(Number($(\"#upCount\").text())+1);\n\t\t\t}else if(type==2){\n\t\t\t\t$(\"#downCount\").text(Number($(\"#downCount\").text())+1);\n\t\t\t}\n\n\t\t\tbtn.attr(\"btn-type\",1);\n\t\t},\n\t\terror : function(err){\n\t\t\tconsole.log(err);\n\t\t}\n\t});\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/pages/infoDetail/index.js\n ** module id = 0\n ** module chunks = 23\n **/","// removed by extract-text-webpack-plugin\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/pages/infoDetail/index.less\n ** module id = 203\n ** module chunks = 23\n **/","// removed by extract-text-webpack-plugin\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/pages/infoDetail/article.less\n ** module id = 205\n ** module chunks = 23\n **/"],"sourceRoot":""}