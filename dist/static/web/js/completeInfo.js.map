{"version":3,"sources":["webpack:///./src/pages/completeInfo/index.js","webpack:///./src/pages/completeInfo/index.less?5c64","webpack:///./src/pages/completeInfo/index.less","webpack:///./src/pages/user/js/archive.js","webpack:///./src/pages/user/js/uploader.js","webpack:///./~/extend/index.js","webpack:///./src/pages/user/js/uploaderFixIE.js"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAC;;;;;;;;ACtBD;;AAEA;AACA;AACA;AACA;AACA,iDAAsF;AACtF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,iCAAgC,UAAU,EAAE;AAC5C,E;;;;;;;ACpBA;AACA;;;AAGA;AACA,kCAAiC,mBAAmB,GAAG,kBAAkB,iBAAiB,GAAG,aAAa,qBAAqB,GAAG,aAAa,2BAA2B,uBAAuB,wBAAwB,GAAG,wBAAwB,uBAAuB,GAAG,mCAAmC,0BAA0B,iBAAiB,GAAG,2BAA2B,uBAAuB,GAAG,iCAAiC,oBAAoB,gBAAgB,GAAG,oCAAoC,sBAAsB,GAAG,6BAA6B,qBAAqB,GAAG;;AAE9kB;;;;;;;;ACPA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,QAAO;AACP;AACA;AACA;AACA,QAAO;;AAEP;AACA;AACA;AACA;AACA,IAAG;;AAEH;;;AAGA;AACA;AACA,IAAG;AACH;AACA;;AAEA,GAAE;;AAEF;AACA;AACA;AACA,KAAI,uDAAuD;AAC3D,KAAI,gDAAgD;AACpD,KAAI,+DAA+D;AACnE,KAAI;AACJ;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,KAAI;;AAEJ,IAAG;AACH,GAAE;;AAEF;AACA;AACA;AACA,IAAG;AACH,GAAE;;AAEF;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;;AAEA;AACA;;AAEA,eAAc,IAAI;AAClB;AACA;;AAEA;AACA;;AAEA;AACA;AACA,IAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wC;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;;;AAGA;;AAEA,0B;;;;;;;AClKA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,cAAa;AACb;AACA,UAAS;;;AAGT;AACA;AACA,UAAS;;AAET;AACA;AACA,UAAS;;;AAGT;AACA;AACA,UAAS;;AAET;AACA;AACA;;AAEA,UAAS;;AAET;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA,UAAS;AACT,GAAE;;AAEF;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oCAAmC,+BAA+B;AAClE;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAiB;;AAEjB;;AAEA,UAAS;AACT;;;AAGA;;AAEA,2B;;;;;;;ACnIA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oBAAmB;;AAEnB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;;AAEA,QAAO,YAAY;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;;AAEA;AACA,OAAM;AACN;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;ACpFA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA0B,YAAY;AACtC;AACA;AACA,iCAAgC,MAAM,MAAM,OAAO;AACnD;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,4C;AACA;;AAEA;;AAEA,GAAE;;AAEF;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oCAAmC,+BAA+B;AAClE;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAiB;;AAEjB;;AAEA,UAAS;AACT;;;AAGA;;AAEA,gC","file":"static/web/js/completeInfo.js","sourcesContent":["/* 建议这里都引入 */\nrequire('../../assets/less/common.less');\nrequire('./index.less');\nvar $ = window.$ || require(\"jquery\");\n\n//工具类方法\nvar util = require(\"../../assets/components/util\");\n\n//公共方法\nvar common = require(\"../../assets/components/common\");\n\n/* 具体实现 */\n//历史模块\nvar archive = require(\"../user/js/archive\");\n\n//provinceId\nvar provinceId = $(\"[name=province]\").val();\n\n//我的资料\narchive.init({\n\tprovinceId : provinceId,\n\tsubmitFormCallback: archive.subFunc\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/pages/completeInfo/index.js\n ** module id = 0\n ** module chunks = 16\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../../node_modules/css-loader/index.js!./../../../node_modules/autoprefixer-loader/index.js!./../../../node_modules/less-loader/index.js!./index.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../../node_modules/css-loader/index.js!./../../../node_modules/autoprefixer-loader/index.js!./../../../node_modules/less-loader/index.js!./index.less\", function() {\n\t\t\tvar newContent = require(\"!!./../../../node_modules/css-loader/index.js!./../../../node_modules/autoprefixer-loader/index.js!./../../../node_modules/less-loader/index.js!./index.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/pages/completeInfo/index.less\n ** module id = 177\n ** module chunks = 16\n **/","exports = module.exports = require(\"./../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".blue {\\n  color: #61c0e2;\\n}\\n.breadcrumb li {\\n  width: 33.3%;\\n}\\n.p_assess {\\n  margin-top: 24px;\\n}\\n.formWrap {\\n  background-color: #fff;\\n  padding: 28px 24px;\\n  margin-bottom: 30px;\\n}\\n.formWrap .row .col2 {\\n  margin-left: 160px;\\n}\\n.formWrap .row .col2 .fieldWrap {\\n  display: inline-block;\\n  width: 374px;\\n}\\n.formWrap .row .errInfo {\\n  margin-left: 160px;\\n}\\n.formWrap .row .control-label {\\n  font-size: 15px;\\n  color: #444;\\n}\\n.formWrap .row .control-label em {\\n  margin-left: 10px;\\n}\\n#sSchoolForm .schoolLists {\\n  height: 310px\\\\9;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader!./~/autoprefixer-loader!./~/less-loader!./src/pages/completeInfo/index.less\n ** module id = 178\n ** module chunks = 16\n **/","var $ = window.$ || require(\"jquery\");\nrequire(\"../../../assets/components/validator\");\n\n//公共方法\nvar common = require(\"../../../assets/components/common\");\n\nvar searchSchool = require(\"../../../assets/components/searchSchool\");\n\nvar browser = require(\"../../../assets/components/browser\");\n\nvar uploader = require(\"./uploader.js\");\n\nvar uploaderFix = require(\"./uploaderFixIE.js\");\n\n//provinceId\nvar provinceId = $(\"[name=province]\").val();\n\nvar archive = {\n\tinit : function(options){\n\t\t//保存参数\n\t\tthis.options = options;\n\t\tvar that = this;\n\n\t\t$(\"#myInfoForm\").validator({\n\t\t\terrorParent: '.row',\n\t\t    successCallback: function(e) {\n\t\t      var target = $(e.target).closest('.btn');\n\t\t      //执行到下一步操作\n\t\t      \n\t\t      options.submitFormCallback &&  options.submitFormCallback(target,$(\"#myInfoForm\"))\n\t\t     \n\t\t      //that.subFunc(target,$(\"#myInfoForm\"));\n\n\t\t    },\n\t\t    focusinCallback: function() {\n\t\t      var _ele = $(this);\n\t\t      common.hideError($('.errTxt'));\n\t\t    },\n\n\t\t    errorCallback: function(unvalidFields) {\n\t\t      var oError = $('.errTxt');\n\t\t      common.showError($('.errTxt'));\n\t\t    }\n\t\t});\n\n\t\tthis.bindEvt();\n\n\n\t\tif(browser.isModernBrower && browser.isIE() != \"9\"){\n\t\t\tuploader.init();\n\t\t}else if(browser.isIE() == \"9\" || browser.isIE() == \"8\"){\n\t\t\tuploaderFix.init();\n\t\t}\n\t\t\n\t},\n\n\tsubFunc :  function(btn,oForm){\n\t\tvar that = this;\n\t\tvar fields = [\n\t\t\t{\"type\":\"name\",url : \"/profile/name\",field : \"userName\"},\n\t\t\t{\"type\":\"sex\",url : \"/profile/sex\",field : \"sex\"},\n\t\t\t{\"type\":\"highSchool\",url : \"/profile/school\",field : \"schoolId\"},\n\t\t\t{\"type\":\"highYear\",url : \"/profile/school/year\",field : \"year\"}\n\t\t];\n\n\t\tvar uploadAll = 0;\n\n\t\t$.each(fields,function(idx,ele){\n\t\t\tvar _data = {};\n\t\t\t_data[ele.field] = $(\"[name=\"+ele[\"type\"]+\"]\").val();\n\n\t\t\tif(ele.type == \"highSchool\"){\n\t\t\t\t_data[ele.field] = $(\"[name=\"+ele[\"type\"]+\"]\").attr(\"code\");\n\t\t\t}\n\n\t\t\t$.ajax({\n\t\t\t\turl : preServer+provinceId+ele.url,\n\t\t\t\tdata : JSON.stringify(_data),\n\t\t\t\ttype : \"post\",\n\t\t\t\tsuccess : function(res){\n\t\t\t\t\tif(typeof res == \"string\"){\n\t\t\t\t\t\tvar res= $.parseJSON(res);\n\t\t\t\t\t}\n\n\t\t\t\t\tif(res.code!=1){\n\t\t\t\t\t\twarn(res.msg);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tuploadAll++;\n\n\t\t\t\t\tif(uploadAll == fields.length){\n\t\t\t\t\t\tthat.subSuccessCallback();\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t})\n\n\t\t});\n\t},\n\n\tsubSuccessCallback : function(){\n\t\twarn(\"个人资料更新成功\",function(){\n\t\t\twindow.location = \"/user\";\n\t\t});\n\t},\n\n\tbindEvt : function(){\n\t\tthis.addSchool();\n\n\t\tthis.addYear();\n\t},\n\n\taddYear : function(){\n\t\tvar that = this;\n\n\t\tvar nowYear = new Date().getFullYear();\n\t\tvar yearArr = [];\n\n\t\tfor(var i=0;i<5;i++){\n\t\t\tyearArr.push(nowYear--);\n\t\t}\n\n\t\tvar highYear = $(\"[name=highYearInput]\").length ? $(\"[name=highYearInput]\").val() : \"\";\n\t\tvar optionList = [];\n\n\t\t$.each(yearArr,function(idx,ele){\n\t\t\toptionList.push('<option value='+ele+'>'+ele+'</option>');\n\t\t});\n\n\t\t$(\"[name=highYear]\").empty().append('<option value=\"\">请选择</option>');\n\t\t$(\"[name=highYear]\").append(optionList.join(\"\"));\n\n\t\tif(highYear){\n\t\t\t$(\"[name=highYear]\").val(highYear);\n\t\t}\n\t},\n\n\taddSchool : function(){\n\t\tvar o = this.options;\n\t\tsearchSchool.init({\n\t\t\tel : \".addSchool\",\n\t\t\tprovinceId : o.provinceId,\n\t\t\ttype : \"highSchool\",\n\t\t\turl : \"/v2_1/client/\"+provinceId+\"/highSchool/search\",\n\t\t\tstartCallback  : function(modal){\n\t\t\t\tmodal.find(\"h3 span\").text(\"选择高中\");\t\n\t\t\t},\n\t\t\tselectListCallback : function(li){\n\t\t\t\tvar self = this;\n\t\t\t\t$(\".btn-close\").trigger(\"click\");\n\t\t\t\t$(\".addSchool\").val(li.attr(\"name\"));\n\t\t\t\t$(\".addSchool\").attr(\"code\",li.attr(\"code\"));\n\t\t\t\t$(\".addSchool\").closest(\".row\").removeClass(\"error empty\")\n\t\t\t}\n\t\t});\n\n\t}\n\n\n};\n\nmodule.exports = archive;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/pages/user/js/archive.js\n ** module id = 179\n ** module chunks = 16 50\n **/","var $ = window.$ || require(\"jquery\");\nvar extend = require(\"extend\");\n\nvar provinceId = $(\"[name=province]\").val();\nvar browser = require(\"../../../assets/components/browser\");\n\nvar uploader = {\n\tinit : function(settings){\n\t\tthis.settings = settings;\n\t\tthis.bindEvt();\n\t},\n\n\tbindEvt : function(){\n\t\tvar that = this,o = that.settings;\n\n        if(!$('#picker').length) return;\n\n\t\tvar uploader = WebUploader.create({\n\n            auto : true,\n            //runtimeOrder : \"flash\",\n            // swf文件路径\n            swf: 'http://www.tzhiyuan.net/data/upload/swfupload.swf',\n\n            // 文件接收服务端。\n            server: preServer+provinceId+\"/attach/uploadAttach\",\n            chunked: true,\n            // 选择文件的按钮。可选。\n            // 内部根据当前运行是创建，可能是input元素，也可能是flash.\n\n            pick: {\n                id: '#picker',\n                innerHTML: '编辑图片'\n            },\n\n            // 不压缩image, 默认如果是jpeg，文件上传前会压缩一把再上传！\n            resize: false,\n            // 只允许选择图片文件。\n            accept: {\n                title: 'Images',\n                extensions: 'gif,jpg,jpeg,bmp,png',\n                mimeTypes: 'image/*'\n            },\n            formData: {\n                avatar: \"\"\n            },\n            fileVal : \"avatar\"\n        });\n\n\n        uploader.on(\"beforeFileQueued\",function(file){\n            //alert(\"beforeFileQueued: \"+file);\n        })\n\n        uploader.on(\"fileQueued\",function(file){\n            //alert(\"fileQueued \"+file);\n        })\n        \n\n        uploader.on( 'uploadProgress', function( file,percentage) {\n            that.loadingStart();\n        });\n\n        // 文件上传成功，给item添加成功class, 用样式标记上传成功。\n        uploader.on( 'uploadSuccess', function( file,response) {\n           that.setAvatar(file,response);\n    \n        });\n\n        uploader.on( 'uploadError', function( file,reason) {\n            console.log(reason);\n            //alert(reason);\n        });\n\n        // 完成上传完了，成功或者失败，先删除进度条。\n        uploader.on( 'uploadComplete', function( file ) {\n            that.loadingStop();\n        });\n\n        uploader.on('error', function(error){\n            //alert(\"error event: \"+error);\n            console.log(error);\n        })\n\t},\n\n    loadingStart : function(){\n        document.getElementById(\"loading\").style.display = \"inline\";\n    },\n\n    loadingStop : function() {\n        document.getElementById(\"loading\").style.display = \"none\";\n    },\n\n    setAvatar : function(file,serveData){\n        var that = this;\n\n        if(typeof serveData == \"string\"){\n            var serveData = $.parseJSON(serveData);\n        }\n\n        if(serveData.code != 1){\n            warn(serveData.msg);\n            return;\n        }\n\n        $.ajax({\n            url : preServer+provinceId+'/profile/avatar',\n            type : \"post\",\n            data : JSON.stringify({avatar:serveData.result.avatar}),\n            success : function(res){\n                if(typeof res == \"string\"){\n                    var res = $.parseJSON(res);\n                }\n\n                if(res.code !=1){\n                    warn(res.msg);\n                    return;\n                }\n\n                warn(\"头像上传成功\",function(){\n                    window.location.href='/user';\n                });\n\n            }\n\n        })\n    }\n\n\n};\n\nmodule.exports = uploader;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/pages/user/js/uploader.js\n ** module id = 187\n ** module chunks = 16 50\n **/","'use strict';\n\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\n\nvar isArray = function isArray(arr) {\n\tif (typeof Array.isArray === 'function') {\n\t\treturn Array.isArray(arr);\n\t}\n\n\treturn toStr.call(arr) === '[object Array]';\n};\n\nvar isPlainObject = function isPlainObject(obj) {\n\tif (!obj || toStr.call(obj) !== '[object Object]') {\n\t\treturn false;\n\t}\n\n\tvar hasOwnConstructor = hasOwn.call(obj, 'constructor');\n\tvar hasIsPrototypeOf = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');\n\t// Not own constructor property must be Object\n\tif (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {\n\t\treturn false;\n\t}\n\n\t// Own properties are enumerated firstly, so to speed up,\n\t// if last one is own, then all properties are own.\n\tvar key;\n\tfor (key in obj) {/**/}\n\n\treturn typeof key === 'undefined' || hasOwn.call(obj, key);\n};\n\nmodule.exports = function extend() {\n\tvar options, name, src, copy, copyIsArray, clone,\n\t\ttarget = arguments[0],\n\t\ti = 1,\n\t\tlength = arguments.length,\n\t\tdeep = false;\n\n\t// Handle a deep copy situation\n\tif (typeof target === 'boolean') {\n\t\tdeep = target;\n\t\ttarget = arguments[1] || {};\n\t\t// skip the boolean and the target\n\t\ti = 2;\n\t} else if ((typeof target !== 'object' && typeof target !== 'function') || target == null) {\n\t\ttarget = {};\n\t}\n\n\tfor (; i < length; ++i) {\n\t\toptions = arguments[i];\n\t\t// Only deal with non-null/undefined values\n\t\tif (options != null) {\n\t\t\t// Extend the base object\n\t\t\tfor (name in options) {\n\t\t\t\tsrc = target[name];\n\t\t\t\tcopy = options[name];\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif (target !== copy) {\n\t\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\t\tif (deep && copy && (isPlainObject(copy) || (copyIsArray = isArray(copy)))) {\n\t\t\t\t\t\tif (copyIsArray) {\n\t\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\t\tclone = src && isArray(src) ? src : [];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tclone = src && isPlainObject(src) ? src : {};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\t\ttarget[name] = extend(deep, clone, copy);\n\n\t\t\t\t\t// Don't bring in undefined values\n\t\t\t\t\t} else if (typeof copy !== 'undefined') {\n\t\t\t\t\t\ttarget[name] = copy;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/extend/index.js\n ** module id = 188\n ** module chunks = 16 50\n **/","var $ = window.$ || require(\"jquery\");\nvar extend = require(\"extend\");\n\nvar provinceId = $(\"[name=province]\").val();\n\nvar uploaderFixIE = {\n\tinit : function(settings){\n\t\tthis.settings = settings;\n\t\tthis.bindEvt();\n\t},\n\n\tbindEvt : function(){\n\t\tvar that = this,o = that.settings;\n        if(!$('#picker').length) return;\n\t\t var settings = {\n            flash_url : \"http://www.tzhiyuan.net/data/upload/swfupload.swf\",\n            //flash_url : \"http://223.95.73.206/static/swfupload.swf\",\n            upload_url: preServer+provinceId+\"/attach/uploadAttach\", \n            post_params: {\"avatar\":\"\"},\n            file_post_name : \"avatar\",\n            file_size_limit : \"4 MB\",\n            file_types : \"*.jpg;*.gif;*.png;*.jpeg;*.bmp\",\n            file_types_description : \"img\",\n            custom_settings : {\n                cancelButtonId : \"btnCancel\"\n            },\n            debug: false,\n            use_query_string : true,\n            // Button settings\n            button_image_url: \"http://wacai-file.b0.upaiyun.com/assets/img/editAvatar.png\",\n            button_width: \"82\",\n            button_height: \"21\",\n            button_placeholder_id: \"spanButtonPlaceHolder\",\n            button_action:SWFUpload.BUTTON_ACTION.SELECT_FILE,\n\n            file_queued_handler : fileQueued,\n            file_queue_error_handler : fileQueueError,\n            file_dialog_complete_handler : fileDialogComplete,\n            upload_error_handler : uploadError,\n            upload_success_handler : uploadSuccess\n\n        };\n        swfu = new SWFUpload(settings);\n\n        function froward(file,serveData){\n            that.setAvatar(file,serveData);   \n\t    }\n\n\t    window.froward = froward;\n\n\t},\n\n    setAvatar : function(file,serveData){\n        var that = this;\n\n        if(typeof serveData == \"string\"){\n            var serveData = $.parseJSON(serveData);\n        }\n\n        if(serveData.code != 1){\n            warn(serveData.msg);\n            return;\n        }\n\n        $.ajax({\n            url : preServer+provinceId+'/profile/avatar',\n            type : \"post\",\n            data : JSON.stringify({avatar:serveData.result.avatar}),\n            success : function(res){\n                if(typeof res == \"string\"){\n                    var res = $.parseJSON(res);\n                }\n\n                if(res.code !=1){\n                    warn(res.msg);\n                    return;\n                }\n\n                warn(\"头像上传成功\",function(){\n                    window.location.href='/user';\n                });\n\n            }\n\n        })\n    }\n\n\n};\n\nmodule.exports = uploaderFixIE;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/pages/user/js/uploaderFixIE.js\n ** module id = 189\n ** module chunks = 16 50\n **/"],"sourceRoot":""}