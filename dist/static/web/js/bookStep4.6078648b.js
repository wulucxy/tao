webpackJsonp([9],{0:function(e,n,a){a(23),a(162);var t=window.$||a(46),r=a(47),i=(a(48),a(147)),s=a(148),c=t("[name=province]").val(),o={init:function(){this.detailTrigger(),this.bindEvt()},detailTrigger:function(){t("[data-trigger]").on("click",function(e){e.preventDefault();var n=t(e.target).closest(".trigger"),a="detail"==n.data("trigger")?i:s;modalBox(n.get(0),{html:a(),klass:"w540 shadow",closeByOverlay:!1,completeCallback:function(){}})})},bindEvt:function(){var e=this;r.setupLabel(),t("#nBtn").on("click",function(n){n.preventDefault();var a=t(n.target).closest(".btn");a.hasClass("disabled")||(a.addClass("disabled"),e.submitFunc(a))})},transformArr:function(e){return console.log(e,e.length,e[0]),1===e.length&&""===e[0]?[]:e},submitFunc:function(e){var n={province:t("[name=province]").val(),mobile:t("[name=mobile]").val(),courseType:t("[name=courseType]:checked").val(),batch:t("[name=batch]:checked").val(),score:Number(t("[name=score]").val()),rank:Number(t("[name=rank]").val()),place:t("[name=place]").val(),cities:this.transformArr(t("[name=city]:checked").map(function(e,n){return t(n).val()}).get()),majors:this.transformArr(t("[name=majorId]:checked").map(function(e,n){return t(n).val()}).get()),subjects:this.transformArr(t("[name=subjectId]:checked").map(function(e,n){return Number(t(n).val())}).get())};t.ajax({url:preServer+c+"/tzy/plan/wishes2018",type:"post",contentType:"application/json",data:JSON.stringify(n),success:function(n){if("string"==typeof n)var n=t.parseJSON(n);return 1==n.code&&n.result.planId?(window.location="/pay/wishes?planId="+n.result.planId,!1):(warn(n.msg),e.removeClass("disabled"),!1)},error:function(n){e.removeClass("disabled"),console.log(n)}})}};o.init()},162:function(e,n){}});