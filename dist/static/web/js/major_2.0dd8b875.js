webpackJsonp([37],{0:function(e,n,t){t(21),t(280);var a=window.$||t(44),l=(t(45),t(46)),s=t(131),i=t(282);l.switchNav(2),s(a("#collegeWrapper"),{tabsItem:"nav li",items:".content-wrap > section",klass:"current"});var o={init:function(){this.addYear(),this.renderArea()},addYear:function(){for(var e=(new Date).getFullYear(),n=[],t=0;3>t;t++)n.push(e--);var l=[];a.each(n,function(e,n){l.push("<option value="+n+">"+n+"</option>")}),a("[name=Year]").empty().append(l.join(""))},renderArea:function(){a.ajax({url:"/system/area",type:"get",contentType:"application/json",success:function(e){if("string"==typeof e)var e=a.parseJSON(e);if(1!=e.code)return void warn(e.msg);var e=e.result,n=[];a.each(e,function(e,t){n.push("<option value="+t.code+">"+t.name+"</option>")}),a("[name=studentProvince]").empty(),a("[name=studentProvince]").append(n.join("")),i.init()},error:function(){warn("网络请求失败，请稍后重试")}})}};o.init()},280:function(e,n){},282:function(e,n,t){var a=window.$||t(44),l=(t(49),t(283)),s=t(156),i={init:function(e){this.majorId=a("[name=majorId]").val(),this.pager=1,this.capacity=10,this.bindEvt()},requestData:function(e){var n=this;n.province=a("[name=studentProvince]").val(),n.year=a("[name=Year]").val(),n.batch=a("[name=batch]").val();var t={capacty:n.capacity,province:n.province,year:n.year,batch:n.batch,majorId:n.majorId,page:n.pager};a.ajax({url:preServer+n.province+"/data/major/college",type:"post",data:JSON.stringify(t),contentType:"application/json",success:function(e){if("string"==typeof e)var e=a.parseJSON(e);return 1!=e.code?void warn(e.msg):(a.each(e.result.colleges,function(e,n){n.code=n.collegeId,n.name=n.collegeName,n.city={code:n.city,name:s.getCityName(n.city)},n.collegeType={code:n.collegeType,name:s.getCollegeTypeName(n.collegeType)},n.ownerType={code:n.ownerType,name:s.getOwnerTypeName(n.ownerType)},n.level={code:n.level,name:s.getLevelName(n.level)},n.feature=n.feature?a.map(n.feature,function(e,n){return{type:e,name:s.getFeatureName(e)}}):[]}),e=e.result,void n.insertData(e,n.pager))}})},insertData:function(e,n){var t=this,s=l(e);1==n?a(".schoolList").empty().html(s):a(".schoolList").append(s),1==n&&0==e.total?a(".btn-loading").hide():(a(".btn-loading").show(),a(".btn-loading").removeClass("loading disabled"));var i=Math.ceil(e.total/t.capacity);n>=i?a(".btn-loading").addClass("loading-all"):a(".btn-loading").removeClass("loading-all"),t.pager++},bindEvt:function(){var e=this;a(".trigger").on("change",function(){e.pager=1,e.requestData()}),a(".btn-loading").on("click",function(n){n.preventDefault();var t=a(this).closest(".btn");t.hasClass("disabled")||t.hasClass("loading-all")||(t.addClass("disabled loading"),e.requestData(t))}),a(".btn-loading").trigger("click")}};e.exports=i},283:function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";Array.prototype.join;with(obj)if(0==colleges.length)__p+='\n	<li class="no_transList"><i class="noListIcon"></i><em class="vm">暂无记录</em></li>\n';else{__p+="	\n";for(var i=0;i<colleges.length;i++){var list=colleges[i];__p+='\n<li class="clearfix">\n	<div class="">\n	<h4 class="name badgeRow">\n		<a class="badgetitle vm textLink" target="_blank" href="/library/college/'+(null==(__t=colleges[i].collegeId)?"":__t)+' ">'+(null==(__t=colleges[i].collegeName)?"":__t)+"</a>\n		";for(var j=0;j<colleges[i].feature.length;j++)__p+="\n			",__p+=1==colleges[i].feature[j].type?'\n				<span class="badge green">'+(null==(__t=colleges[i].feature[j].name)?"":__t)+"</span>\n			":2==colleges[i].feature[j].type?'\n				<span class="badge red">'+(null==(__t=colleges[i].feature[j].name)?"":__t)+"</span>\n			":'\n				<span class="badge">'+(null==(__t=colleges[i].feature[j].name)?"":__t)+"</span>\n			",__p+="\n		";if(__p+='\n	</h4>\n\n	<div class="detail">\n		<i class="icon icon-city"></i><span class="field">'+(null==(__t=list.city.name)?"":__t)+'</span>\n		<span class="label">院校分类：</span><span class="field">'+(null==(__t=list.collegeType.name)?"":__t)+'</span>\n		<span class="label">院校性质：</span><span class="field">'+(null==(__t=list.ownerType.name)?"":__t)+'</span>\n		<span class="label">院校层次：</span><span class="field">'+(null==(__t=list.level.name)?"":__t)+"</span>\n		</div>\n	</div>\n\n	",list.field&&(__p+='\n	<div class="fieldRow">\n		'+(null==(__t=list.field)?"":__t)+"\n	</div>\n	"),__p+="\n	\n	",list.scores.length>0){__p+='\n		<div class="tableWrap mt10 mb10">\n				<table class="table table-bordered text-center">\n					<thead>\n						<tr>\n							<td width="140">科类</td>\n							<td width="240">录取平均分（分）</td>\n							<td width="140">分差（分）</td>\n							<td width="140">学制（年）</td>\n							<td width="240">招生人数（人）</td>\n						</tr>\n					</thead>\n					<tbody>\n						';for(var j=0;j<list.scores.length;j++){var score=list.scores[j];__p+="\n						<tr>\n							<td>\n							",1==score.courseType?__p+="\n							   		文科\n							":0==score.courseType&&(__p+="\n							   		理科\n							"),__p+="\n							</td>\n					<td>"+(null==(__t=score.admittedScore)?"":__t)+"</td>\n					<td>"+(null==(__t=score.diffScore)?"":__t)+"</td>\n					<td>"+(null==(__t=score.eductionalSystme)?"":__t)+"</td>\n					<td>"+(null==(__t=score.recruitCount)?"":__t)+"</td>\n					</tr>\n					"}__p+="\n					</tbody>\n				</table>\n		</div>\n	"}else __p+='\n			<div class="f16 g3 empty">暂无历史数据</div>\n	';__p+="\n\n</li>\n"}}return __p}}});