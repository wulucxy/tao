webpackJsonp([5],{0:function(e,n,t){t(21),t(128);var a=window.$||t(44),o=t(45),r=(t(46),t(131)),i=t(132);r(a("#bookResultTab"),{tabsItem:"nav li",items:".content-wrap > section",klass:"current"});var s=o.getQuery("planId"),c=a("[name=province]").val(),l=a("[name=provinceName]").val();i.init({planId:s,provinceId:c,provinceName:l})},128:function(e,n){},132:function(e,n,t){var a=window.$||t(44),o=t(49),r=t(127),i=t(133),s=t(45),c={init:function(e){this.options=o({provinceName:"浙江省",provinceId:33e4,planId:""},e),this.bindEvt()},bindEvt:function(){var e=this;e.options;this.detailTrigger()},requestProfile:function(e,n){var t=this,o=t.options;a.ajax({url:preServer+o.provinceId+"/profile/plan/param?planId="+o.planId,contentType:"application/json",success:function(t){if("string"==typeof t)var t=a.parseJSON(t);return e.removeClass("flag"),1!=t.code?void warn(t.msg):void(n&&n(t.result))},error:function(n){e.removeClass("flag"),console.log(n)}})},transformData:function(e){var n,t=this,o=t.options,r=e.param,s=a.map(r.subjects,function(e){return{name:i.getSubjectName(e),code:e}});return n=r.cities?a.map(r.cities,function(e){return{name:i.getCityName(e),code:e}}):[],{provinceName:o.provinceName,score:r.score,subjects:s,cities:n,majors:r.majors}},detailTrigger:function(){var e=this;e.options;a("[data-trigger]").on("click",function(n){n.preventDefault();var t=a(n.target).closest(".trigger");t.hasClass("flag")||(t.addClass("flag"),e.requestProfile(t,function(n){var a=e.transformData(n);modalBox(t.get(0),{html:r(a),klass:"w540 shadow",closeByOverlay:!1,startCallback:function(){s.setupLabel()},completeCallback:function(){}})}))})}};e.exports=c}});