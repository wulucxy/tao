webpackJsonp([45],{0:function(n,e,s){s(23),s(312);var a=window.$||s(46),o=(s(47),s(48));o.switchNav(1);var t=s(262),c=a("[name=province]").val();t.init(a(document),{provinceId:c,data:{score:"",rank:""},successCallback:function(){a(".btn-close").trigger("click")}}),t.requestExamInfo()},262:function(n,e,s){var a=window.$||s(46);s(263);var o=s(265),t=s(146),c=s(66),r={init:function(n,e){this.options=e,this.btn=n,this.provinceId=this.options.provinceId},requestExamInfo:function(){var n=this;a.ajax({url:preServer+n.options.provinceId+"/profile/isFillExamInfo",contentType:"application/json",type:"get",success:function(e){if("string"==typeof e)var e=a.parseJSON(e);if(1!=e.code)return void warn(e.msg);var s=e.result;!s.isFill&&n.box()},error:function(n){console.log(n)}})},initSubject:function(){var n=this.options.data||{};n.subjectList&&a("[name=subject]").each(function(e,s){var o=a(s);a(n.subjectList).each(function(n,e){e.type==o.val()&&o.prop("checked",!0)})})},getSubjects:function(){var n=a("[name=subject]").map(function(n,e){if(e.checked)return{name:a(e).attr("n"),code:a(e).val()}}).get();return n},postPlanInfo:function(n,e){var s=this;n.addClass("disabled");var o=a(".errTxt"),t=this.getSubjects().map(function(n){return Number(n.code)}),r={score:Number(e.find("[name=score]").val()),subjects:t},i=e.find("[name=rank]").val();i&&(r.rank=Number(i)),a.ajax({url:preServer+this.provinceId+"/profile/fillExamInfo",type:"post",data:JSON.stringify(r),contentType:"application/json",success:function(e){if("string"==typeof e)var e=a.parseJSON(e);if(1011==e.code)window.location="/home/signin";else{if(1!=e.code)return n.removeClass("disabled"),void c.showError(o,e.msg);s.options.successCallback()}},error:function(e){n.removeClass("disabled")}})},box:function(){var n=this,e=this.options.data||{};modalBox(n.btn.get(),{html:o(e),klass:"w540 shadow",closeByOverlay:!1,startCallback:function(){n.initSubject(),t.init()},completeCallback:function(){a("#score").focus(),a("#planForm").validator({errorParent:".row",successCallback:function(e){var s=a(e.target).closest(".btn"),o=a(".errTxt"),t=n.getSubjects();return 3!=t.length?(a(".subjectListRow").addClass("unvalid"),c.showErrorMsg(a("#planForm"),o,a(".subjectListRow")),!1):(a(".subjectListRow").removeClass("unvalid"),c.hideError(a(".errTxt")),void n.postPlanInfo(s,a("#planForm")))},focusinCallback:function(){c.hideError(a(".errTxt")),a(".row").removeClass("errorIpt")},errorCallback:function(n){var e=a(".errTxt");c.showErrorMsg(a("#planForm"),e,n)}})}})}};n.exports=r},263:function(n,e){},265:function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div class="modalCntWrap planModal taoModal g9 modalForm">\n <h3 class="clearfix"><a href="javascript:;" class="icons btn-close fr"></a><span class="fl">智能志愿定制</span></h3>\n <form class="modalSubCnt" id="planForm" onsubmit="return false;" autocomplete="off">\n\n<div class="inputRows">\n <div class="row clearfix">\n    <div class="inputWrap inputTextWrap">\n      <span class="iconWrap"><i class="icon-location icon-fenshu"></i></span>\n      <input type="text" class="input form-control" id="score" name="score" \n      min="0" max="750" placeholder="请输入高考/模拟考分数" required autocomplete="off" value="'+(null==(__t=score?score:"")?"":__t)+'">\n    </div>\n    <span class="p-error">高考分数为0-750之间，请重新填写</span>\n    <span class="p-error-empty">分数不能为空</span>\n </div>\n\n <div class="row clearfix">\n    <div class="inputWrap inputTextWrap">\n      <span class="iconWrap"><i class="icon-location icon-rank"></i></span>\n      <input type="number" class="input form-control" id="rank" name="rank" placeholder="请输入位次号" autocomplete="off" value="'+(null==(__t=rank?rank:"")?"":__t)+'">\n    </div>\n </div>\n</div>\n\n<div class=\'row subjectListRow\'>\n  <div class=\'g3 option-label\'>选考科目（选择3门）</div>\n  <div class="fieldWrap"> \n    <label for="subject_1" class="label_check inline">\n    <em class="icon-radio"></em>\n    <input type="checkbox" class="input form-control" id="subject_1" name="subject" value="1" required n="物理" >\n    <em class="vm">物理</em>\n    </label>\n\n    <label for="subject_2"  class="label_check inline">\n    <em class="icon-radio"></em>\n    <input type="checkbox" class="input form-control" id="subject_2" name="subject" value="2" n="化学" required>\n    <em class="vm">化学</em>\n    </label>\n\n    <label for="subject_3" class="label_check inline">\n    <em class="icon-radio"></em>\n    <input type="checkbox" class="input form-control" id="subject_3" name="subject" value="3" n="生物" required>\n    <em class="vm">生物</em>\n    </label>\n\n    <label for="subject_4"  class="label_check inline">\n    <em class="icon-radio"></em>\n    <input type="checkbox" class="input form-control" id="subject_4" name="subject" value="4" n="技术" required>\n    <em class="vm">技术</em>\n    </label>\n\n    <label for="subject_5" class="label_check inline">\n    <em class="icon-radio"></em>\n    <input type="checkbox" class="input form-control" id="subject_5" name="subject" value="5" n="政治" required>\n    <em class="vm">政治</em>\n    </label>\n\n    <label for="subject_6"  class="label_check inline">\n    <em class="icon-radio"></em>\n    <input type="checkbox" class="input form-control" id="subject_6" name="subject" value="6" n="历史" required>\n    <em class="vm">历史</em>\n    </label>\n\n    <label for="subject_7"  class="label_check inline">\n    <em class="icon-radio"></em>\n    <input type="checkbox" class="input form-control" id="subject_7" name="subject" value="7" n="地理" required>\n    <em class="vm">地理</em>\n    </label>\n  </div>\n  <div class="errInfo">\n    <span class="p-error">请选择3门选考科目</span>\n    <span class="p-error-empty">选考科目不能为空</span>\n  </div>\n</div>\n\n <div class="footerCnt planCnt">\n   <p id="errTxt" class="errTxt"></p>\n   <div class="row btnRow">\n    <a class="btn btn-default btn-form btn-close">\n        <em class="subTxt">取消</em></a>\n     <button type="submit" class="btn btn-primary btn-form">\n     \t\t<em class="subTxt">确认</em></button>\n   </div>\n </div>\n</form>\n</div>';return __p}},312:function(n,e){}});