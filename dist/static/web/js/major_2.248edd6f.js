webpackJsonp([37],{0:function(t,e,n){n(21),n(282);var a=window.$||n(44),l=(n(45),n(46)),s=n(131),i=n(284);l.switchNav(2),s(a("#collegeWrapper"),{tabsItem:"nav li",items:".content-wrap > section",klass:"current"});var o={init:function(){this.addYear(),this.renderArea()},addYear:function(){for(var t=2017,e=[],n=0;n<2;n++)e.push(t--);var l=[];a.each(e,function(t,e){l.push("<option value="+e+">"+e+"</option>")}),a("[name=Year]").empty().append(l.join(""))},renderArea:function(){a.ajax({url:"/system/allProvinces",type:"get",contentType:"application/json",success:function(t){if("string"==typeof t)var t=a.parseJSON(t);if(1!=t.code)return void warn(t.msg);var t=t.result,e=[];e.push('<option value="1000">全部区域</option>'),a.each(t,function(t,n){e.push("<option value="+n.code+">"+n.name+"</option>")}),a("[name=studentProvince]").empty(),a("[name=studentProvince]").append(e.join("")),i.init()},error:function(){warn("网络请求失败，请稍后重试")}})}};o.init()},282:function(t,e){},284:function(t,e,n){var a=window.$||n(44),l=(n(49),n(285)),s=n(133),i={init:function(t){this.majorId=a("[name=majorId]").val(),this.pager=1,this.capacity=10,this.bindEvt()},requestData:function(t){var e=this;e.province=a("[name=studentProvince]").val(),e.year=a("[name=Year]").val(),e.batch=a("[name=batch]").val();var n={capacty:e.capacity,year:e.year,batch:e.batch,majorId:e.majorId,page:e.pager};e.province&&(n.province=e.province),a.ajax({url:preServer+e.province+"/data/major/college",type:"post",data:JSON.stringify(n),contentType:"application/json",success:function(t){if("string"==typeof t)var t=a.parseJSON(t);return 1!=t.code?void warn(t.msg):(a.each(t.result.colleges,function(t,e){e.code=e.collegeId,e.name=e.collegeName,e.city={code:e.city,name:s.getCityName(e.city)},e.collegeType={code:e.collegeType,name:s.getCollegeTypeName(e.collegeType)},e.ownerType={code:e.collegeNature,name:s.getOwnerTypeName(e.collegeNature)},e.level={code:e.level,name:s.getLevelName(e.collegeLevel)},e.feature=e.feature?a.map(e.feature,function(t,e){return{type:t,name:s.getFeatureName(t)}}):[]}),t=t.result,console.log(t),void e.insertData(t,e.pager))}})},insertData:function(t,e){var n=this,s=l(t);1==e?a(".schoolList").empty().html(s):a(".schoolList").append(s),1==e&&0==t.total?a(".btn-loading").hide():(a(".btn-loading").show(),a(".btn-loading").removeClass("loading disabled"));var i=Math.ceil(t.total/n.capacity);e>=i?a(".btn-loading").addClass("loading-all"):a(".btn-loading").removeClass("loading-all"),n.pager++},bindEvt:function(){var t=this;a(".trigger").on("change",function(){t.pager=1,t.requestData()}),a(".btn-loading").on("click",function(e){e.preventDefault();var n=a(this).closest(".btn");n.hasClass("disabled")||n.hasClass("loading-all")||(n.addClass("disabled loading"),t.requestData(n))}),a(".btn-loading").trigger("click")}};t.exports=i},285:function(module,exports){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj)if(0==colleges.length)__p+='\n\t<li class="no_transList"><i class="noListIcon"></i><em class="vm">暂无记录</em></li>\n';else{__p+="\t\n";for(var i=0;i<colleges.length;i++){var list=colleges[i];__p+='\n<li class="clearfix">\n\t<div class="">\n\t<h4 class="name badgeRow">\n\t\t<a class="badgetitle vm textLink" target="_blank" href="/library/college/'+(null==(__t=colleges[i].collegeId)?"":__t)+' ">'+(null==(__t=colleges[i].collegeName)?"":__t)+"</a>\n\t\t";for(var j=0;j<colleges[i].feature.length;j++)__p+="\n\t\t\t",__p+=1==colleges[i].feature[j].type?'\n\t\t\t\t<span class="badge green">'+(null==(__t=colleges[i].feature[j].name)?"":__t)+"</span>\n\t\t\t":2==colleges[i].feature[j].type?'\n\t\t\t\t<span class="badge red">'+(null==(__t=colleges[i].feature[j].name)?"":__t)+"</span>\n\t\t\t":'\n\t\t\t\t<span class="badge">'+(null==(__t=colleges[i].feature[j].name)?"":__t)+"</span>\n\t\t\t",__p+="\n\t\t";if(__p+='\n\t</h4>\n\n\t<div class="detail">\n\t\t<i class="icon icon-city"></i><span class="field">'+(null==(__t=list.city.name)?"":__t)+'</span>\n\t\t<span class="label">院校分类：</span><span class="field">'+(null==(__t=list.collegeType.name)?"":__t)+'</span>\n\t\t<span class="label">院校性质：</span><span class="field">'+(null==(__t=list.ownerType.name)?"":__t)+'</span>\n\t\t<span class="label">院校层次：</span><span class="field">'+(null==(__t=list.level.name)?"":__t)+"</span>\n\t\t</div>\n\t</div>\n\n\t",list.field&&(__p+='\n\t<div class="fieldRow">\n\t\t'+(null==(__t=list.field)?"":__t)+"\n\t</div>\n\t"),__p+="\n\t\n\t",list.scores.length>0){__p+='\n\t\t<div class="tableWrap mt10 mb10">\n\t\t\t\t<table class="table table-bordered text-center">\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td width="140">科类</td>\n\t\t\t\t\t\t\t<td width="240">录取平均分（分）</td>\n\t\t\t\t\t\t\t<td width="140">分差（分）</td>\n\t\t\t\t\t\t\t<td width="140">学制（年）</td>\n\t\t\t\t\t\t\t<td width="240">招生人数（人）</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t';for(var j=0;j<list.scores.length;j++){var score=list.scores[j];__p+="\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t",1==score.courseType?__p+="\n\t\t\t\t\t\t\t   \t\t文科\n\t\t\t\t\t\t\t":0==score.courseType&&(__p+="\n\t\t\t\t\t\t\t   \t\t理科\n\t\t\t\t\t\t\t"),__p+="\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t<td>"+(null==(__t=score.admittedScore)?"":__t)+"</td>\n\t\t\t\t\t<td>"+(null==(__t=score.diffScore)?"":__t)+"</td>\n\t\t\t\t\t<td>"+(null==(__t=score.eductionalSystme)?"":__t)+"</td>\n\t\t\t\t\t<td>"+(null==(__t=score.recruitCount)?"":__t)+"</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t"}__p+="\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t</div>\n\t"}else __p+="\n\t\t\t",__p+="\n\t";if(__p+='\n\n\t<div class="row mt10">\n\t\t<span class="label">所需科目：</span>\n\t\t',list.subjects.length)if(list.subjects.length>=7)__p+='\n\t\t   \t<span class="field g9">不限</span>\n\t\t';else{__p+="\n\t\t\t";for(var k=0;k<list.subjects.length;k++){var subject=list.subjects[k];__p+='\n\t\t\t<span class="field g9">'+(null==(__t=subject.subjectName)?"":__t)+"</span>\n\t\t"}}else __p+='\n\t\t   \t<span class="field g9">无</span>\n\t\t';__p+="\n\t\t\n\t</div>\n</li>\n"}}return __p}}});